
<!DOCTYPE html>
<html class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content=""GraphQL is an awesome way to query data and optimize relational logic"">
      
      
      
        <meta name="author" content=""Michael Paris"">
      
      
        <link rel="shortcut icon" href="../../assets/images/favicon.png">
      
      <meta name="generator" content="mkdocs-0.16.2, mkdocs-material-1.3.0">
    
    
      
        <title>Querying Relational Data with GraphQL</title>
      
    
    
      <script src="../../assets/javascripts/modernizr-56ade86843.js"></script>
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application-1d1da4857d.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../../css/base.css">
    
      <link rel="stylesheet" href="../../css/styles.css">
    
    
  </head>
  
  
  
  
    <body>
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <a href="../.." title="Scaphold Docs" class="md-icon md-icon--home md-header-nav__button">
          </a>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  Tutorials
                </span>
              
            
            Advanced Relational Queries
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <div class="md-search__overlay"></div>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result"></div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <div class="md-header-nav__source">
          
            


  


  <a href="https://github.com/scaphold-io/scaphold-docs" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          
        </div>
      </div>
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    
      <i class="md-icon md-icon--home md-nav__button"></i>
    
    Scaphold Docs
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/scaphold-io/scaphold-docs" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Getting Started
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Getting Started
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting-started/jumpstart-video/" title="Jumpstart Video" class="md-nav__link">
      Jumpstart Video
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting-started/starter-kits/" title="Starter Kits" class="md-nav__link">
      Starter Kits
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Core Data
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Core Data
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../coredata/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../coredata/schema/" title="The Schema" class="md-nav__link">
      The Schema
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../coredata/queries/" title="Queries" class="md-nav__link">
      Queries
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../coredata/mutations/" title="Mutations" class="md-nav__link">
      Mutations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../coredata/subscriptions/" title="Subscriptions" class="md-nav__link">
      Subscriptions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../coredata/connections-pagination/" title="Connections" class="md-nav__link">
      Connections
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Authentication
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Authentication
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../authentication/tokens/" title="Auth Tokens" class="md-nav__link">
      Auth Tokens
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../authentication/permissions/" title="Permissions" class="md-nav__link">
      Permissions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../authentication/social/" title="Social Auth" class="md-nav__link">
      Social Auth
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../authentication/super-users/" title="Super Users" class="md-nav__link">
      Super Users
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Realtime Subscriptions
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Realtime Subscriptions
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../realtime/subscriptions-apollo/" title="Subscriptions With Apollo Client" class="md-nav__link">
      Subscriptions With Apollo Client
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../realtime/subscriptions-react/" title="Subscriptions With React" class="md-nav__link">
      Subscriptions With React
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../realtime/slackr-chat-app/" title="Build Slack Tutorial" class="md-nav__link">
      Build Slack Tutorial
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Custom Logic
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Custom Logic
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../custom-logic/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../custom-logic/composition/" title="Function Composition" class="md-nav__link">
      Function Composition
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../custom-logic/pre-operations/" title="Pre Operations" class="md-nav__link">
      Pre Operations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../custom-logic/operation-phase/" title="Operation Phase" class="md-nav__link">
      Operation Phase
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../custom-logic/post-operations/" title="Post Operations" class="md-nav__link">
      Post Operations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../custom-logic/async-operations/" title="Async Operations" class="md-nav__link">
      Async Operations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../custom-logic/logs/" title="Logs & Examples" class="md-nav__link">
      Logs & Examples
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Persisted Queries
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Persisted Queries
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../persisted-queries/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../persisted-queries/getting-started/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../persisted-queries/querying-from-client/" title="Querying From Client" class="md-nav__link">
      Querying From Client
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Files
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Files
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../files/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../files/uploading/" title="Uploading" class="md-nav__link">
      Uploading
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../files/querying/" title="Querying" class="md-nav__link">
      Querying
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Integrations
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Integrations
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../integrations/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../integrations/email/" title="Email" class="md-nav__link">
      Email
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../integrations/monitoring/" title="Monitoring" class="md-nav__link">
      Monitoring
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../integrations/passwordless/" title="Passwordless Auth" class="md-nav__link">
      Passwordless Auth
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../integrations/push/" title="Push Notifications" class="md-nav__link">
      Push Notifications
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-6" type="checkbox" id="nav-9-6">
    
    <label class="md-nav__link" for="nav-9-6">
      Search
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-6">
        Search
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../integrations/search/setup/" title="Setup" class="md-nav__link">
      Setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../integrations/search/querying/" title="Querying" class="md-nav__link">
      Querying
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-7" type="checkbox" id="nav-9-7">
    
    <label class="md-nav__link" for="nav-9-7">
      Social Auth
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-7">
        Social Auth
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../integrations/social/setup/" title="Setup" class="md-nav__link">
      Setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../integrations/social/login-with-native/" title="Login With Native SDKs" class="md-nav__link">
      Login With Native SDKs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../integrations/social/login-with-auth0/" title="Login With Auth0" class="md-nav__link">
      Login With Auth0
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      App Management
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        App Management
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../app-management/alias/" title="Aliases" class="md-nav__link">
      Aliases
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../app-management/analytics/" title="Analytics" class="md-nav__link">
      Analytics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../app-management/export-schema/" title="Export Schema" class="md-nav__link">
      Export Schema
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../app-management/fork-app/" title="Fork App" class="md-nav__link">
      Fork App
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../app-management/teams/" title="Teams" class="md-nav__link">
      Teams
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../app-management/multi-region/" title="Multi Region" class="md-nav__link">
      Multi Region
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../app-management/admin-tokens/" title="Admin Tokens" class="md-nav__link">
      Admin Tokens
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../app-management/token-expiration/" title="Token Expiration" class="md-nav__link">
      Token Expiration
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11" checked>
    
    <label class="md-nav__link" for="nav-11">
      Tutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../realtime-apps-with-subscriptions/" title="Build A Chat App" class="md-nav__link">
      Build A Chat App
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sending-push-notifications/" title="Sending Push Notifications" class="md-nav__link">
      Sending Push Notifications
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ios-push-notifications/" title="Setup iOS Push" class="md-nav__link">
      Setup iOS Push
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../android-push-notifications/" title="Setup Android Push" class="md-nav__link">
      Setup Android Push
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../migrate-mongodb-graphql/" title="Migrating MongoDB" class="md-nav__link">
      Migrating MongoDB
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../persisted-queries/" title="Using Persisted Queries" class="md-nav__link">
      Using Persisted Queries
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Advanced Relational Queries
      </label>
    
    <a href="./" title="Advanced Relational Queries" class="md-nav__link md-nav__link--active">
      Advanced Relational Queries
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#basic-relational-queries" title="Basic relational queries" class="md-nav__link">
    Basic relational queries
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-graphql-to-optimize-your-queries" title="Use GraphQL to optimize your queries" class="md-nav__link">
    Use GraphQL to optimize your queries
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-relational-queries-with-graphql" title="Advanced relational queries with GraphQL" class="md-nav__link">
    Advanced relational queries with GraphQL
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#traversing-deep-connections" title="Traversing deep connections" class="md-nav__link">
    Traversing deep connections
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querying-by-fields-on-edges-of-many-to-many-connections" title="Querying by fields on edges of Many-To-Many connections" class="md-nav__link">
    Querying by fields on edges of Many-To-Many connections
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querying-connections-by-id" title="Querying connections by ID" class="md-nav__link">
    Querying connections by ID
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wrapping-up" title="Wrapping Up" class="md-nav__link">
    Wrapping Up
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#thanks-for-reading" title="Thanks for reading" class="md-nav__link">
    Thanks for reading
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../authentication-in-graphql/" title="Authentication in GraphQL" class="md-nav__link">
      Authentication in GraphQL
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../search-with-algolia/" title="Add Search With Algolia" class="md-nav__link">
      Add Search With Algolia
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../aggregations-in-graphql/" title="Aggregations In GraphQL" class="md-nav__link">
      Aggregations In GraphQL
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../apollo-optics-graphql-server/" title="Integrate Apollo Optics" class="md-nav__link">
      Integrate Apollo Optics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../adding-social-auth/" title="Add Social Auth" class="md-nav__link">
      Add Social Auth
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../errors/" title="Errors" class="md-nav__link">
      Errors
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../changelog/" title="Changelog" class="md-nav__link">
      Changelog
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../faq/" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#basic-relational-queries" title="Basic relational queries" class="md-nav__link">
    Basic relational queries
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-graphql-to-optimize-your-queries" title="Use GraphQL to optimize your queries" class="md-nav__link">
    Use GraphQL to optimize your queries
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-relational-queries-with-graphql" title="Advanced relational queries with GraphQL" class="md-nav__link">
    Advanced relational queries with GraphQL
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#traversing-deep-connections" title="Traversing deep connections" class="md-nav__link">
    Traversing deep connections
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querying-by-fields-on-edges-of-many-to-many-connections" title="Querying by fields on edges of Many-To-Many connections" class="md-nav__link">
    Querying by fields on edges of Many-To-Many connections
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querying-connections-by-id" title="Querying connections by ID" class="md-nav__link">
    Querying connections by ID
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wrapping-up" title="Wrapping Up" class="md-nav__link">
    Wrapping Up
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#thanks-for-reading" title="Thanks for reading" class="md-nav__link">
    Thanks for reading
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/scaphold-io/scaphold-docs/edit/master/docs/tutorials/advanced-queries.md" title="Edit this page" class="md-icon md-content__icon">edit</a>
                
                
                <h1 id="simplify-relational-logic-with-graphql">Simplify relational logic with GraphQL</h1>
<p>One of the biggest benefits of GraphQL is how it allows you traverse hierarhical data in a single query.
Gone are the days of REST when you would query for a user, get back a list of post ids, and then
ask the API for all those posts. This same query which might take 11 requests in REST would take
this simple GraphQL query.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>query GetUserAndPosts {
  getUser(id: 1) {
    id
    name
    posts(first: 10) {
      id
      title
      content
    }
  }
}
</pre></div>
</td></tr></table>

<p>In one round trip, you now have all the data you need to populate your front-end! This is great,
but only scratches the surface of what GraphQL can do. Let's dig a little deeper.</p>
<h2 id="basic-relational-queries">Basic relational queries</h2>
<p>The GraphQL language offers an expressive syntax that we can use to query data on our servers. It
makes no assumptions as to how we store our data which is also what makes it so powerful. A
query might pull from any number of datasources whether they be SQL, Neo4j, REST, or something else.
The GraphQL schema and language provide a powerful set of tools that we as developers can use to
build safer, more efficient systems.</p>
<p>Let's start with a simple example. Assume we're building an application that tracks and displays
sporting events happening in different cities around the world. To build this app, we would have a
schema like this:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>type Event implements Node {
  id: ID!
  name: String!
  date: DateTime!
  city: City
  sport: Sport
}

type City implements Node {
  id: ID!
  name: String!
  events: [Event]
}

type Sport implements Node {
  id: ID!
  name: String!
  events: [Event]
}
</pre></div>
</td></tr></table>

<p>Our app would be perfect for a relational database like MySQL or Postgres. All three of our <code>Node</code>
implementing types could be conceptually mapped to tables in SQL so that we can create relations
between them. SQL itself is a powerful language that we can use
to query our data, but it would be a very bold move to expose your SQL database directly your client
applications. Enter GraphQL!</p>
<p>Okay, so now let's build a <strong>CityView</strong> that shows all the events
for a particular city. Whether we are building on react, react-native, ios, etc the GraphQL
query will be exactly the same.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>query GetCityEvents {
  getCity(id: &quot;id-for-san-francisco&quot;) {
    id
    name
    events {
      edges {
        node {
          id
          name
          date
          sport {
            id
            name
          }
        }
      }
    }
  }
}
</pre></div>
</td></tr></table>

<p>The resolver for the <code>getCity</code> query is responsible for returning all the data that this query
is asking for. There are a number of different ways we could implement this. Let's take a look
at two.</p>
<h2 id="use-graphql-to-optimize-your-queries">Use GraphQL to optimize your queries</h2>
<p>The GraphQL type system has implications that extend far beyond a better developer experience
on the client. For the first time, our APIs have a structure that we can introspect and use
to build better tools. For example, the above query could operate in two different ways.</p>
<p><strong>We could think of the <code>getCity</code>, <code>events</code>, and <code>sport</code> resolvers as three separate SQL queries.</strong></p>
<p>I.E. first we get the city, then we get the events given the cityId, then we get the sport connected to each event.
There are ways to optimize this query using projects like <a href="https://github.com/facebook/dataloader">dataloader</a>,
but I would argue there is a more interesting alternative.</p>
<p><strong>Use the GraphQL type system to pre-compute joins</strong></p>
<p>When our GraphQL server receives a request, it knows exactly what data the query is asking for.
In GraphQL, you call the sections of the query between brackets a <strong>selection set</strong>. Using the query
selection set, we can precompute the necessary join that will fulfill the query.</p>
<p>In our example, we would be able to generate a query like this:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="o">`</span><span class="n">City</span><span class="o">`</span> <span class="k">as</span> <span class="o">`</span><span class="k">C</span><span class="o">`</span>
<span class="k">JOIN</span> <span class="o">`</span><span class="n">Event</span><span class="o">`</span> <span class="k">as</span> <span class="o">`</span><span class="n">E</span><span class="o">`</span>
<span class="k">ON</span> <span class="o">`</span><span class="k">C</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">id</span><span class="o">`</span> <span class="o">=</span> <span class="o">`</span><span class="n">E</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">cityId</span><span class="o">`</span>
<span class="k">JOIN</span> <span class="o">`</span><span class="n">Sport</span><span class="o">`</span> <span class="k">as</span> <span class="o">`</span><span class="n">S</span><span class="o">`</span>
<span class="k">ON</span> <span class="o">`</span><span class="n">S</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">id</span><span class="o">`</span> <span class="o">=</span> <span class="o">`</span><span class="n">E</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">sportId</span><span class="o">`</span>
<span class="k">WHERE</span> <span class="o">`</span><span class="k">C</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">id</span><span class="o">`</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</pre></div>
</td></tr></table>

<p>These queries can get even further optimized by replacing the <code>*</code> with the the subset of
fields necessary to fulfill the request. This gives the client the power to define exactly what
data they need while also ensuring the each query will be optimized at runtime.
I hope this helps demonstrate the types of optimizations you can make given a GraphQL query.</p>
<p>If you want to try this yourself, there is an npm package called <code>graphql-fields</code> that
will parse the selection set out of a GraphQL resolver's info object.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kr">import</span> <span class="nx">graphqlFields</span> <span class="nx">from</span> <span class="s1">&#39;graphql-fields&#39;</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">getCityResolver</span><span class="p">(</span><span class="nx">parent</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">info</span><span class="p">)</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">selectionSet</span> <span class="o">=</span> <span class="nx">graphqlFields</span><span class="p">(</span><span class="nx">info</span><span class="p">);</span>
  <span class="cm">/**</span>
<span class="cm">    selectionSet = {</span>
<span class="cm">      id: {},</span>
<span class="cm">      name: {},</span>
<span class="cm">      events: {</span>
<span class="cm">        edges: {</span>
<span class="cm">          node: {</span>
<span class="cm">            id: {},</span>
<span class="cm">            name: {},</span>
<span class="cm">            date: {},</span>
<span class="cm">            sport: {</span>
<span class="cm">              id: {},</span>
<span class="cm">              name: {},</span>
<span class="cm">            }</span>
<span class="cm">          }</span>
<span class="cm">        }</span>
<span class="cm">      }</span>
<span class="cm">    }</span>
<span class="cm">  */</span>
  <span class="c1">// .. generate sql from selection set</span>
  <span class="k">return</span> <span class="nx">db</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span><span class="nx">generatedQuery</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<blockquote>
<p>There are also higher level tools like <a href="https://github.com/stems/join-monster">join monster</a> that
can help with this.</p>
</blockquote>
<h2 id="advanced-relational-queries-with-graphql">Advanced relational queries with GraphQL</h2>
<p>At <a href="https://scaphold.io">Scaphold</a>, we have just released a new feature that allows for even more
complex relational queries. We have extended your <code>WhereArgs</code> types to allow you to traverse connections.
For example, let's say we wanted to query for all the Football events in Seattle in 2017.</p>
<p>This query</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>query FootballEventsInSeattle {
  viewer {
    allEvents(where: {
      date: {
        gt: &quot;2017&quot;
      },
      city: {
        name: {
          eq: &quot;Seattle&quot;
        }
      },
      sport: {
        name: {
          eq: &quot;Football&quot;
        }
      }
    }) {
      edges {
        node {
          id
          name
          sport {
            id
            name
          }
        }
      }
      aggregations {
        count
      }
    }
  }
}
</pre></div>
</td></tr></table>

<p>would yield these results</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;data&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;viewer&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;allEvents&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;edges&quot;</span><span class="o">:</span> <span class="p">[</span>
          <span class="p">{</span>
            <span class="s2">&quot;node&quot;</span><span class="o">:</span> <span class="p">{</span>
              <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;RXZlbnQ6OQ==&quot;</span><span class="p">,</span>
              <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;12th man bar night&quot;</span><span class="p">,</span>
              <span class="s2">&quot;date&quot;</span><span class="o">:</span> <span class="s2">&quot;2017-02-01T08:30:00.000Z&quot;</span>
              <span class="s2">&quot;sport&quot;</span><span class="o">:</span> <span class="p">{</span>
                <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;U3BvcnQ6MQ==&quot;</span><span class="p">,</span>
                <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Football&quot;</span>
              <span class="p">}</span>
            <span class="p">}</span>
          <span class="p">},</span>
          <span class="p">{</span>
            <span class="s2">&quot;node&quot;</span><span class="o">:</span> <span class="p">{</span>
              <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;RXZlbnQ6Nw==&quot;</span><span class="p">,</span>
              <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Seahawks preseason begins&quot;</span><span class="p">,</span>
              <span class="s2">&quot;date&quot;</span><span class="o">:</span> <span class="s2">&quot;2017-08-01T08:05:12.000Z&quot;</span>
              <span class="s2">&quot;sport&quot;</span><span class="o">:</span> <span class="p">{</span>
                <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;U3BvcnQ6MQ==&quot;</span><span class="p">,</span>
                <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Football&quot;</span>
              <span class="p">}</span>
            <span class="p">}</span>
          <span class="p">},</span>
          <span class="p">{</span>
            <span class="s2">&quot;node&quot;</span><span class="o">:</span> <span class="p">{</span>
              <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;RXZlbnQ6OA==&quot;</span><span class="p">,</span>
              <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Russell Wilson&#39;s Birthday&quot;</span><span class="p">,</span>
              <span class="s2">&quot;date&quot;</span><span class="o">:</span> <span class="s2">&quot;2017-11-29T00:01:00.000Z&quot;</span>
              <span class="s2">&quot;sport&quot;</span><span class="o">:</span> <span class="p">{</span>
                <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;U3BvcnQ6MQ==&quot;</span><span class="p">,</span>
                <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;Football&quot;</span>
              <span class="p">}</span>
            <span class="p">}</span>
          <span class="p">}</span>
        <span class="p">],</span>
        <span class="s2">&quot;aggregations&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;count&quot;</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>We use the optimization techniques mentioned above to precompute the simplest join necessary to
verify the relationships. You can even traverse deep connections to find objects connected
to types multiple hops away.</p>
<h3 id="traversing-deep-connections">Traversing deep connections</h3>
<p>This query will get all sports that have atleast one event in San Francisco</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>query SportsWithEventsInSF {
  viewer {
    allSports(where: {
      events: {
        city: {
          name: {
            eq: &quot;San Francisco&quot;
          }
        }
      }
    }) {
      edges {
        node {
          id
          name
        }
      }
    }
  }
}
</pre></div>
</td></tr></table>

<p>Much like how you can use the selection set of a query to precompute SQL joins, you can
also use input arguments. Our servers will recognize that this query is asking for a connection
two hops away and will compute the necessary join in a single round trip.</p>
<h3 id="querying-by-fields-on-edges-of-many-to-many-connections">Querying by fields on edges of Many-To-Many connections</h3>
<p>Many to many connection use a join table or "through" type to manage the objects in the connection.
For example you might have accessLevel on a role membership or an isAccepted flag on a friendship.
You can use these fields to query for objects that satisfy certain connection constraints like this:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>query AllAdminsInDeveloperRole {
  viewer {
    allUsers(where: {
      roles: {
        edge: {
          createdAt: {
            gt:&quot;2017&quot;
          },
          accessLevel: {
            eq: admin
          }
        },
        node: {
          name: {
            eq: &quot;Developer&quot;
          }
        }
      }
    }) {
      edges {
        node {
          id
          username
          roles {
            edges {
              createdAt
              node {
                id
                name
              }
            }
          }
        }
      }
    }
  }
}
</pre></div>
</td></tr></table>

<p>Notice how the WhereArgs for many to many connections work a bit differently. They include the
<code>edge</code> and <code>node</code> fields allowing you to specify whether you are filtering on the edge itself
or the target type.</p>
<h3 id="querying-connections-by-id">Querying connections by ID</h3>
<p>We've added one more style of connection query that you can use. If you already know the id
of a connected object(s) or you are looking for the absence of a connection you can use this
style of query.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>query EventsWithCityId {
  viewer {
    allEvents(where: {
      cityId: {
        eq: &quot;some-object-id&quot;,
        # ne: &quot;some-object-id&quot;,
        # in: [&quot;some-object-id&quot;, &quot;some-object-id-2&quot;],
        # notIn: [&quot;some-object-id&quot;, &quot;some-object-id-2&quot;],
        # isNull: true
      }
    }) {
      edges {
        node {
          id
          name
          city {
            id
            name
          }
        }
      }
    }
  }
}
</pre></div>
</td></tr></table>

<p>The above query could be used to look for all events that don't have a city, are connected
to one or more of a set of cities, or are not connected to one or more of a set of cities.</p>
<h2 id="wrapping-up">Wrapping Up</h2>
<p>GraphQL is an awesome tool that can be used to wrap all kinds of datasources. Even though
it uses a graph based query language, you don't have to use a graph database. Having the
GraphQL schema at your disposal you can build more powerful services that provide a great
developer experience as well optimized performance. I'd love to hear what datasources you
are all using behind your GraphQL apis and would love to have you checkout <a href="https://scaphold.io">Scaphold.io</a></p>
<h2 id="thanks-for-reading">Thanks for reading</h2>
<p>I hope this helps show you the kinds of queries you can run to build powerful, data-driven
applications with GraphQL! Thanks for reading! Please let me know what you think in the comments!</p>
<p>Happy Scapholding!</p>
<p><a href="http://slack.scaphold.io">Join us on slack</a></p>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../persisted-queries/" title="Using Persisted Queries" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Using Persisted Queries
              </span>
            </div>
          </a>
        
        
          <a href="../authentication-in-graphql/" title="Authentication in GraphQL" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Authentication in GraphQL
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application-7aa26ad9ec.js"></script>
      <script>app.initialize({url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>